<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>商家管理页面</title>
</head>
<body>

欢迎来到商家索引页！<br>以下为操作示例：
<br>-------------------<br>
查询该商家信息：<br>
<button onclick="redirectTo('/merchantSelfInfo')">查询商家自己信息</button>
<br>-------------------<br>
增加新菜品（草莓，id=30，隶属于餐厅2，分类为蔬菜...）：<br>
<button onclick="redirectTo('/addDish?dishId=30&dishName=strawberry&category=vegetable&description=fresh&picture=strawberry&flavor=sweet&ingredients=strawberry&allergens=strawberry&nutritionInfo=strawberry&merchantId=2')">增加商品id=30</button>
<br>-------------------<br>
查看该商家所有菜品：：<br>
<button onclick="redirectTo('/allDishes')">查看该商家所有菜品</button>
<br>-------------------<br>
更新菜品30分类为水果：<br>
<button onclick="redirectTo('/updateDishCategory/30?category=fruit')">更新菜品分类</button>
<br>-------------------<br>
删除菜品30：<br>
<button onclick="redirectTo('/deleteDish?dishId=30')">删除商品id=30</button>
<br>
<br>-------------------<br>
<!--发布新的菜单（menuId=20）：<br>-->
<!--<button onclick="redirectTo('/createMenu?menuId=20')">发布新的菜单id=5</button>-->
<!--<br>-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br>-->
<!--查询所有的菜单：<br>-->
<!--<button onclick="redirectTo('/allMenus')">查询已有的菜单</button>-->
<!--<br>-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br>-->
<!--查询menuId=1下有哪些菜：<br>-->
<!--<button onclick="redirectTo('/allMenus')">查询已有的菜单</button>-->
<!--<br>-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;<br>-->
添加dishId为2的菜品到该商家的菜单，设定价格为20，使这个菜单单品的id为5（出现了外键报错）：<br>
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`db_pj_dining`.`menuItem`, CONSTRAINT `menuItem_ibfk_1` FOREIGN KEY (`dishID`) REFERENCES `dish` (`dishID`) ON DELETE CASCADE)<br>
2025-03-07 15:35:56 ; Cannot add or update a child row: a foreign key constraint fails (`db_pj_dining`.`menuItem`, CONSTRAINT `menuItem_ibfk_1` FOREIGN KEY (`dishID`) REFERENCES `dish` (`dishID`) ON DELETE CASCADE)] with root cause<br>
<button onclick="redirectTo('/addMenuItem?dishId=2&menuItemId=5&price=20')">添加菜品到菜单</button>
<br>-------------------<br>
从菜单中删除菜品5：<br>
<button onclick="redirectTo('/deleteMenuItem/5')">删除菜单中的菜品</button>
<br>-------------------<br>
修改菜品5的价格为18：<br>
<button onclick="redirectTo('/updateMenuItemPrice/5?newPrice=18')">修改菜品价格</button>
<br>-------------------<br>
查询一段时间当前商户的忠实粉丝在该商户的消费分布：(当时没做这个页面)<br>
<button onclick="redirectToJson('/loyal-customers-distribution')">查询忠实粉丝消费分布</button>
<br>-------------------<br>

<script>
    // Function to append the given path to the current URL and redirect
    function redirectTo(path) {
        const currentUrl = window.location.href;
        const newUrl = currentUrl + path;
        window.location.href = newUrl;
    }
</script>
</body>
</html>