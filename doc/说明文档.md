# PJ说明文档

当前的框架是java + web的

## 运行方法

运行Pj1Application.java，然后在网址栏输入`localhost:8080/`

### 用户发出查询

+ 用户索引页：`localhost:8080/user/`
+ 用户查询所有用户列表：`localhost:8080/user/allUserList`
+ 查询第1个用户信息：`localhost:8080/user/id=1`
+ 查询所有商家列表（简略）：`localhost:8080/user/searchMerchant?keyword=`
+ 查询第2个商家列表（简略）：`localhost:8080/user/searchMerchant?keyword=2`
+ 查询第3个商家列表（详细）：`localhost:8080/user/searchMerchantDetails?id=3`
+ 查询第3个商家的关于`p`的菜品：`localhost:8080/user/searchDishes?merchantId=3&keyword=p`


### 商家发出查询

+ 用户索引页：`localhost:8080/merchant/`


##  遇到的问题与解决

### Mapper相关

1. 成功添加了数据，但是查询的时候显示某个属性为null：可能是实体类和数据库表中这个属性名称不一致（实体类中需要驼峰，数据库表中小写，字母完全一致）
2. 在运行的类（如MyBatis001.java中）的`List<User> user = sqlSession.selectList("test.findAll");`找不到mybatis.findAll：`<mapper namespace="test">`所以需要改成test.findAll
3. `There was an unexpected error (500) Invalid bound statement: not found`：在controller类使用mapper而不是service来访问函数，并且在mapper里面直接使用@Select而不是写XML
4. `Mapped Statements collection already contains value for`：在mapper里面直接使用@Select而不是写XML

### 数据库连接相关

1. 报错：`Failed to determine a suitable driver class`：错误地注释掉了pom.xml里看似重复的projectlombok、mybatis和mysql，补充回来即可。
2. 报错：